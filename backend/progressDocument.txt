# ðŸ“˜ **University Management System â€“ Progress Summary & Function Notes**

## ðŸ§± Project Setup Overview

### ðŸ”¹ Folder Structure (in `uniSystem/`)
```
/uniSystem/
â”œâ”€â”€ /frontend/     # React.js app (Vite)
â””â”€â”€ /backend/      # Node.js + Express.js server
```

---

## âœ… Backend Setup Completed

### âœ” Node Environment Setup:
- Initialized project with `npm init -y`
- Installed core dependencies:
  ```bash
  npm install express mongoose dotenv cors multer bcryptjs jsonwebtoken
  ```

### âœ” Backend Folder Structure:
```
/backend/
â”œâ”€â”€ /models/         # Mongoose schemas
â”œâ”€â”€ /routes/         # Express routes
â”œâ”€â”€ /controllers/    # Route logic handlers
â”œâ”€â”€ /middlewares/    # Auth & role checking
â”œâ”€â”€ /uploads/        # Assignment file storage
â”œâ”€â”€ .env             # Environment variables
â””â”€â”€ index.js         # Main app entry point
```

---

## ðŸŒ MongoDB Setup

- Using **local MongoDB** instance
- `.env` file includes:
  ```env
  PORT=5000
  MONGO_URI=mongodb://127.0.0.1:27017/uniSystemDB
  JWT_SECRET=superSecretKey123
  ```

---

## ðŸ›  Express Server Setup (`index.js`)
- Created Express app and connected it to MongoDB
- Middlewares:
  - `express.json()` â€“ to handle JSON requests
  - `cors()` â€“ to allow frontend connections
  - Static serving from `/uploads` directory
- Basic test route:
  ```js
  app.get('/', (req, res) => res.send('Backend working!'));
  ```

---

## ðŸ” Authentication & Role Management

### âœ… User Model (`models/User.js`)
Defines the structure of user accounts:
```js
{
  name: String,
  email: String (unique),
  password: String (hashed),
  role: 'student' | 'teacher' | 'admin'
}
```

---

### âœ… Auth Controller (`controllers/authController.js`)

#### ðŸ”¹ `register` â€“ Registers new users
- Checks if user already exists
- Hashes password with `bcryptjs`
- Stores user in MongoDB

#### ðŸ”¹ `login` â€“ Logs in existing users
- Validates email/password
- Issues JWT token with `id` and `role` embedded

---

### âœ… Auth Routes (`routes/authRoutes.js`)
```js
POST /api/auth/register  â†’ Register user  
POST /api/auth/login     â†’ Login and get JWT token
```

---

## ðŸ§± Middleware for Security

### âœ… `authMiddleware.js`
- Checks if JWT token is valid
- Adds `req.user` with decoded data

```js
req.user = {
  id: 'userIdFromToken',
  role: 'student' | 'teacher' | 'admin'
}
```

### âœ… `roleMiddleware.js`
- Restricts route access based on user role
- Usage:
  ```js
  router.get('/adminOnly', authMiddleware, roleMiddleware('admin'), (req, res) => { ... });
  ```

---

## âœ… Testing with Postman

### Register Example:
```json
POST /api/auth/register
{
  "name": "Alice",
  "email": "alice@edu.com",
  "password": "123456",
  "role": "teacher"
}
```

### Login Example:
```json
POST /api/auth/login
{
  "email": "alice@edu.com",
  "password": "123456"
}
```

Response:
```json
{
  "token": "jwtTokenHere",
  "user": {
    "id": "...",
    "name": "Alice",
    "role": "teacher"
  }
}
```

---

## âœ… Whatâ€™s Working So Far

- âœ… Backend server with Express
- âœ… Connected to **local MongoDB**
- âœ… User **registration and login** with role support
- âœ… **Password hashing** for security
- âœ… **JWT token system** for authentication
- âœ… **Route protection** using middleware

---

## ðŸ”œ What's Next?

Weâ€™re ready to move on to:
1. **Subject & Timeline Management**
   - Models: Subject, Timeline
   - Admin can create subjects and assign teachers
   - Teachers can upload timelines
2. **Protected APIs** using `authMiddleware` and `roleMiddleware`
3. **Start frontend login & routing system**

